@model CardData


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Details - @Model.Basic_Information.Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        input[type="checkbox"] {
            width: 0;
            height: 0;
            visibility: hidden;
        }

        input[type=text] {
            border: none;
            border-bottom: 1px solid #575957;
        }


        .toggle {
            cursor: pointer;
            text-indent: -9999px;
            width: 52px;
            height: 27px;
            background: grey;
            display: block;
            border-radius: 100px;
            position: relative;
        }

            .toggle:after {
                content: '';
                position: absolute;
                top: 2px;
                left: 2px;
                width: 23px;
                height: 23px;
                background: #fff;
                border-radius: 90px;
                transition: 0.3s;
            }

        input:checked + .toggle {
            background: #901F17;
        }

            input:checked + .toggle:after {
                left: calc(100% - 2px);
                transform: translateX(-100%);
            }

        .toggle:active:after {
            width: 30px;
        }

        .number-input {
            display: flex;
            align-items: center;
        }

            .number-input button {
                width: 30px;
                height: 30px;
                text-align: center;
                font-size: 20px;
            }

            .number-input input {
                width: 60px;
                text-align: center;
            }
    </style>
</head>
<body style="background-color:#F4F7FA">
    <div class="container">
        <!-- Dashboard Card (Small Long Title Card) -->
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header" style="width:100%">
                        <h5 class="text-dark">@Model.Basic_Information.Title</h5>
                    </div>
                </div>
            </div>
        </div>

        <!-- Other Cards in Pairs of Two -->
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-2 g-4">
            <!-- Card 1 -->
            <div class="col">
                <div class="card">
                    <div class="card-header" style="background-color:#901F17;">
                        <h5 class="text-light">Basic Information</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <!-- Left Form Column -->
                            <div class="col-md-6">
                                <form id="dataForm">
                                    <div class="mb-1">
                                        <label class="form-label" for="title">
                                            <strong>Title</strong>
                                            <br />
                                            @Model.Basic_Information.Title

                                        </label>
                                        @* <div >
                                        @Model.Basic_Information.Title
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="summary">
                                            <strong>Summary</strong><br />
                                            Test @Model.Basic_Information.Summary
                                        </label>
                                        @*  <div>
                                        @Model.Basic_Information.Summary
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="reference">
                                            <strong>Reference</strong><br />
                                            @Model.Basic_Information.Reference
                                        </label>
                                        @*  <div>
                                        @Model.Basic_Information.Reference
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="title">
                                            <strong>Contact person</strong><br />
                                            @Model.Basic_Information.Lead.Contact_Person

                                        </label>
                                        @*  <div>
                                        @Model.Basic_Information.Lead.Contact_Person
                                        </div> *@

                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="title">
                                            <strong>Address A</strong><br />
                                            @Model.Basic_Information.AddressGroup.address_a

                                        </label>
                                        @*  <div>
                                        @Model.Basic_Information.AddressGroup.address_a
                                        </div> *@

                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="title">
                                            <strong>Address B</strong><br />
                                            @Model.Basic_Information.AddressGroup.address_b

                                        </label>
                                        @* <div>
                                        @Model.Basic_Information.AddressGroup.address_b
                                        </div> *@

                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="title">
                                            <strong>Address C</strong><br />
                                            @Model.Basic_Information.AddressGroup.address_c

                                        </label>
                                        @*  <div>
                                        @Model.Basic_Information.AddressGroup.address_c
                                        </div> *@

                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="title">
                                            <strong>PV Extra Info</strong><br />
                                            @Model.Basic_Information.AddressGroup.pv_extra_info

                                        </label>
                                        @* <div>
                                        @Model.Basic_Information.AddressGroup.pv_extra_info
                                        </div> *@

                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="title">
                                            <strong>Extra Info Ivm </strong><br />
                                            @Model.Basic_Information.AddressGroup.extra_info_contact.general_extra_info

                                        </label>
                                        @* <div>
                                        @Model.Basic_Information.AddressGroup.extra_info_contact.general_extra_info
                                        </div> *@

                                    </div>
                                </form>
                            </div>

                            <!-- Right Form Column -->
                            <div class="col-md-6">
                                <form id="dataForm">
                                    <div class="mb-1">
                                        <label class="form-label" for="title">
                                            <strong>Status</strong><br />
                                            @Model.Basic_Information.Status

                                        </label>
                                        @*  <div>
                                        @Model.Basic_Information.Status
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="title">
                                            <strong>Company</strong><br />
                                            Insuarance @Model.Basic_Information.Company

                                        </label>
                                        @* <div>
                                        Insuarance @Model.Basic_Information.Company
                                        </div> *@
                                    </div>

                                    <div class="mb-1">
                                        <label class="form-label" for="title">
                                            <strong>Customer</strong><br />
                                            @Model.Basic_Information.Lead.Customer

                                        </label>
                                        @*   <div>
                                        @Model.Basic_Information.Lead.Customer
                                        </div> *@
                                    </div>

                                    <div class="form-group">
                                        <label class="from-label"><strong>PV 1</strong></label>
                                        <input class="toggle" type="checkbox" id="IsActive" name="IsActive" value="true" @(Model.Basic_Information.AddressGroup.pv_1_bool ? "checked" : "") />
                                        <label class="toggle" for="IsActive">PV 1</label>
                                    </div>
                                    <div class="form-group">
                                        <label class="from-label"><strong>PV 2</strong></label>
                                        <input class="toggle" type="checkbox" id="IsActive" name="IsActive" value="true" @(Model.Basic_Information.AddressGroup.pv_1_bool ? "checked" : "") />
                                        <label class="toggle" for="IsActive">PV 2</label>
                                    </div>
                                    <div class="form-group">
                                        <label class="from-label"><strong>PV 1</strong></label>
                                        <input class="toggle" type="checkbox" id="IsActive" name="IsActive" value="true" @(Model.Basic_Information.AddressGroup.pv_2_bool ? "checked" : "") />
                                        <label class="toggle" for="IsActive">PV 2</label>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">

                <div class="card">
                    <div class="card-header" style="background-color:#901F17;">
                        <h5 class="text-light">Moving Dates</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <!-- Left Form Column -->
                            <div class="col-md-6">
                                <form id="dataForm">
                                    <div class="mb-1">
                                        <label class="form-label" for="title">
                                            <strong>From Date</strong><br />
                                            -
                                        </label>
                                        @* <div>
                                        -  @Model.Moving_Date.moving_from_date
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="summary">
                                            <strong>To Date</strong><br />
                                            @Model.Moving_Date.moving_to_date
                                        </label>
                                        @*  <div>
                                        @Model.Moving_Date.moving_to_date
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="reference">
                                            <strong>Client Arrival Time</strong><br />
                                            @Model.Moving_Date.client_arrival_time_update
                                        </label>
                                        @*  <div>
                                        @Model.Moving_Date.client_arrival_time_update


                                        </div> *@

                                        <br /> <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                        <br />
                                    </div>

                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">

                    <div class="card-header" style="background-color:#901F17;">
                        <h5 class="text-light">Additional Info</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <form id="dataForm">
                                    <div class="mb-1">
                                        <label class="form-label" for="title">
                                            <strong>Extra Info Lift</strong><br />
                                            @Model.Additional_Info.Extra_Info_Lift

                                        </label>
                                        @*  <div>
                                        @Model.Additional_Info.Extra_Info_Lift
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="summary">
                                            <strong>Lift Location</strong><br />
                                            @Model.Additional_Info.Lift_Location_Enum
                                        </label>
                                        @*   <div>
                                        @Model.Additional_Info.Lift_Location_Enum
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="reference">
                                            <strong>Lift type</strong><br />
                                            <select name="enum" id="enum" style="font-size: 16px;height: 35px; width: 100%;  ">
                                                <option value="enum">@Model.Additional_Info.Lift_Type_Enum</option>
                                                <option value="test">test</option>
                                                <option value="test">Test</option>
                                                <option value="audi">122</option>
                                            </select>
                                        </label>
                                        @*  <div class="mb-3">
                                        <select name="enum" id="enum" style="font-size: 16px;height: 35px; width: 100%;  ">
                                        <option value="enum">@Model.Additional_Info.Lift_Type_Enum</option>
                                        <option value="test">test</option>
                                        <option value="test">Test</option>
                                        <option value="audi">122</option>
                                        </select>

                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="summary">
                                            <strong>Number Of Movers</strong><br />
                                            @Model.Additional_Info.Lift_Location_Enum

                                        </label>
                                        @* <div>
                                        @Model.Additional_Info.Lift_Location_Enum
                                        </div> *@
                                    </div>

                                    <div class="mb-1">
                                        <label class="form-label" for="summary">
                                            <strong>Number Of Movers</strong><br />
                                            @Model.Additional_Info.Number_Of_Movers
                                        </label>
                                        @*  <div>

                                        @Model.Additional_Info.Number_Of_Movers
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="summary">
                                            <strong>Number Of Movers Update</strong><br />
                                            <div class="number-input"> <button type="button" onclick="decrement()">-</button> <input type="number" id="num" value="0" /> <button type="button" onclick="increment()">+</button> </div>
                                        </label>
                                        @*  <div>
                                        <div class="number-input"> <button type="button" onclick="decrement()">-</button> <input type="number" id="num" value="0" /> <button type="button" onclick="increment()">+</button> </div>
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="timeEstimate">
                                            <strong>Items To Dismentale</strong><br />
                                            @Model.Additional_Info.Items_To_Dismantle
                                        </label>
                                        @* <div>
                                        @Model.Additional_Info.Items_To_Dismantle
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="summary">
                                            <strong>Items To Dismentale Update</strong><br />
                                            <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value="@Model.Additional_Info.Items_To_Dismantle_Update">
                                        </label>
                                        @*  <div>
                                        <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value="@Model.Additional_Info.Items_To_Dismantle_Update">
                                        </div> *@
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <form id="dataForm">
                                    <div class="form-group">
                                        <label class="from-label"><strong>Dismentaling</strong></label>
                                        <input class="toggle" type="checkbox" id="IsActive" name="IsActive" value="true" @(Model.Additional_Info.Dismantling_Bool ? "checked" : "") />
                                        <label class="toggle" for="IsActive">Dismentaling</label>
                                    </div>
                                    <div class="form-group">
                                        <label class="from-label"><strong>Dismentaling Update</strong></label>
                                        <input class="toggle" type="checkbox" id="IsActive" name="IsActive" value="true" @(Model.Additional_Info.Dismantling_Bool_Update ? "checked" : "") />
                                        <label class="toggle" for="IsActive">Dismentaling Update</label>
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="timeEstimate">
                                            <strong>Time Estimate</strong><br />
                                            @Model.Additional_Info.Time_Estimate
                                        </label>
                                        @*  <div>
                                        @Model.Additional_Info.Time_Estimate
                                        </div> *@
                                    </div>

                                    <div class="mb-1">
                                        <label class="form-label" for="summary">
                                            <strong>Time Estimate Update</strong><br />
                                            <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value=" @Model.Additional_Info.Time_Estimate_Update">
                                        </label>
                                        @*   <div>
                                        <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value=" @Model.Additional_Info.Time_Estimate_Update">
                                        </div> *@
                                    </div>

                                    <div class="mb-1">
                                        <label class="form-label" for="timeEstimate">
                                            <strong>Additional General Info</strong><br />
                                            @Model.Additional_Info.Additional_General_Info
                                        </label>
                                        @*  <div>
                                        @Model.Additional_Info.Additional_General_Info
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="summary">
                                            <strong>Additional General Info Update</strong><br />
                                            <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value="@Model.Additional_Info.Additional_General_Info_update">
                                        </label>
                                        @*  <div>
                                        <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value="@Model.Additional_Info.Additional_General_Info_update">
                                        </div> *@

                                    </div>
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="col">
                <div class="card">
                    <div class="card-header" style="background-color:#901F17;">
                        <h5 class="text-light">Stockage</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <form id="dataForm">
                                    <div class="mb-1">
                                        <label class="form-label" for="timeEstimate">
                                            <strong>Date In</strong><br />
                                            @Model.stockage.Date_In
                                        </label>
                                        @* <div>
                                        @Model.stockage.Date_In
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="summary">
                                            <strong>Date In Update</strong><br />
                                            <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value="@Model.stockage.Date_In_Update">

                                        </label>
                                        @*  <div>
                                        <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value="@Model.stockage.Date_In_Update">
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="timeEstimate">
                                            <strong>Date Out</strong><br />
                                            @Model.stockage.Date_Out
                                        </label>
                                        @*   <div>
                                        @Model.stockage.Date_Out
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="summary">
                                            <strong>Date Out Update</strong><br />
                                            <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value="@Model.stockage.Date_Out_Update">
                                        </label>
                                        @* <div>
                                        <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value="@Model.stockage.Date_Out_Update">
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="CubicMeters">
                                            <strong>Cubic_Meters</strong><br />
                                            @Model.stockage.Cubic_Meters
                                        </label>
                                        @*  <div>
                                        @Model.stockage.Cubic_Meters
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="summary">
                                            <strong>Cubic_Meters_Update</strong><br />
                                            <div class="number-input m-1 p-1"> <button type="button" onclick="decrement()">-</button> <input type="number" id="num" value="0" /> <button type="button" onclick="increment()">+</button> </div>
                                        </label>
                                        @*  <div>
                                        <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value="@Model.stockage.Cubic_Meters_Update">
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="exactlocation">
                                            <strong>Options Enum</strong><br />
                                            @Model.stockage.Options_Enum
                                        </label>
                                        @* <div>
                                        @Model.stockage.Options_Enum
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="exactlocation">
                                            <strong>Contract</strong><br />
                                            @Model.stockage.Contract

                                        </label>
                                        @*  <div>
                                        @Model.stockage.Contract
                                        </div> *@
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <form id="dataForm">
                                    <div class="mb-1">
                                        <label class="form-label" for="Storage">
                                            <strong>Storage</strong><br />
                                            @Model.stockage.Storage
                                        </label>
                                        @*   <div>
                                        @Model.stockage.Storage
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="Storage">
                                            <strong>Storage Update</strong><br />
                                            <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value="@Model.stockage.Storage_Update">
                                        </label>
                                        @*   <div>
                                        <input type="text" id="itemsToDismentle" class="form-control" name="itemsToDismentle" value="@Model.stockage.Storage_Update">
                                        </div> *@
                                    </div>

                                    <div class="mb-1">
                                        <label class="form-label" for="Storage">
                                            <strong>Zone</strong><br />
                                            @Model.stockage.Zone
                                        </label>
                                        @* <div>
                                        @Model.stockage.Zone
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="Storage">
                                            <strong>Zone Update</strong><br />
                                            <input type="text" id="Zone" class="form-control" name="Zone" value="@Model.stockage.Zone_Update">
                                        </label>
                                        @* <div>
                                        <input type="text" id="Zone" class="form-control" name="Zone" value="@Model.stockage.Zone_Update">
                                        </div> *@
                                    </div>

                                    <div class="mb-1">
                                        <label class="form-label" for="exactlocation">
                                            <strong>Exact Location</strong><br />
                                            @Model.stockage.Exact_Location
                                        </label>
                                        @*  <div>
                                        @Model.stockage.Exact_Location
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="exactlocation">
                                            <strong>Zone Update</strong><br />
                                            <input type="text" id="exactlocation" class="form-control" name="exactlocationUpdate" value="@Model.stockage.Exact_Location_Update">
                                        </label>
                                        @* <div>
                                        <input type="text" id="exactlocation" class="form-control" name="exactlocationUpdate" value="@Model.stockage.Exact_Location_Update">
                                        </div> *@
                                    </div>
                                    <div class="mb-1">
                                        <label class="form-label" for="exactlocation">
                                            <strong>Insured Value</strong><br />
                                            @Model.stockage.Insured_Value
                                        </label>
                                        @* <div>
                                        @Model.stockage.Insured_Value
                                        </div> *@
                                    </div>
                                    <br />

                                    <br />
                                    <br />
                                </form>
                            </div>

                        </div>
                    </div>
                </div>
                <div>
                </div>
            </div>

            <div class="col">

                <div class="card">
                    <div class="card-header" style="background-color:#901F17;">
                        <h5 class="text-light">Products</h5>
                    </div>
                    <div class="card-body">
                        <div class="row d-flex">
                            <!-- Left Form Column -->
                            <div class="col-md-6">

                                <form id="dataForm" >
                                 
                                    <table class="table table-bordered table-striped table-hover">
                                        <thead class="">
                                            <tr>
                                                <th>Name</th>
                                                <th>Quantity</th>
                                                <th>Quantity Update</th>
                                            </tr>
                                        </thead>
                                        @foreach (var item in Model.Products)
                                        {
                                            <tbody>
                                                <tr>
                                                    <td>@item.name</td>
                                                    <td>@item.quantity</td>
                                                    <td>
                                                        <input type="number" name="quantity" class="form-control d-inline w-50" value="@item.quantity_update">
                                                    </td>
                                                </tr>
                                            </tbody>
                                        }
                                   </table>
                                  
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">

                <div class="card">
                    <div class="card-header" style="background-color:#901F17;">
                        <h5 class="text-light">Forman Notes</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <!-- Left Form Column -->
                            <div class="col-md-6">

                                <form id="dataForm">

                                    <div class="mb-1" style="width:100%">
                                        <label class="form-label" for="foreman_notes">
                                            <strong>Forman Notes</strong><br /><br />
                                            <textarea class="form-control" style="width:280%;border:2px solid #36454F" name="foreman_notes" id="foreman_notes">@Model.Notes.foreman_notes</textarea>
                                        </label>
                                    
                                        @*  <div>
                                        @Model.Additional_Info.Extra_Info_Lift
                                        </div> *@
                                    </div>
                                    <br />
                                    <br />
                                    
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </<div>
            </div>

           

            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
            <script>
                
                function saveData() {
                    debugger;
                    const form = document.getElementById('dataForm');
                    const formData = new FormData(form);
                    
                    const data = {};
                    formData.forEach((value, key) => {
                        data[key] = value;
                    });

                    // Validate if `foreman_notes` exists in the data
                    if (!data.foreman_notes) {
                        alert("Please enter notes.");
                        return;
                    }

                    // AJAX request
                    fetch('/Home/Save', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data),
                    })
                        .then(response => response.json())
                        .then(result => {
                            if (result.success) {
                                alert('Data saved successfully!');
                            } else {
                                alert(result.message || 'Failed to save data.');
                            }
                        })
                        .catch(error => {
                            console.error('Error:', error);
                        });
                }
            </script>
            <script>
                function increment() {
                    var num = document.getElementById("num");
                    num.value = parseInt(num.value) + 1;
                }
                function decrement() {
                    var num = document.getElementById("num");
                    num.value = parseInt(num.value) - 1;
                }
            </script>

            <footer>
                <div class="md-12" style="display: flex;justify-content: end">
                    <button class="btn" style="justify-content:end;background-color:#dddd;color:black">Cancel</button>
                    <button type="submit" class="btn" style="justify-content:end;background-color:#901F17;color:#ffff" onclick="saveData()">Save</button>

                </div>
            </footer>
</body>
</html>

